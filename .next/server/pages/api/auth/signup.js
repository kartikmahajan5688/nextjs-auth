"use strict";(()=>{var e={};e.id=11,e.ids=[11],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},2423:(e,t,a)=>{a.r(t),a.d(t,{config:()=>p,default:()=>m,routeModule:()=>f});var s={};a.r(s),a.d(s,{default:()=>d});var r=a(1802),n=a(7153),i=a(6249),o=a(5753),u=a(6573);async function l(e,t){if("POST"!==e.method)return;let a=e.body,{email:s,password:r}=a;if(!s||!s.includes("@")||!r||r.trim().length<7){t.status(422).json({message:"Invalid input - password should also be at least 7 characters long."});return}let n=await (0,u.v)(),i=n.db(),l=await i.collection("users").findOne({email:s});if(l){t.status(422).json({message:"User already exists!"}),n.close();return}let d=await (0,o.c)(r);await i.collection("users").insertOne({email:s,password:d}),t.status(201).json({message:"User Created!"}),n.close()}let d=l,c=r.PagesAPIRouteModule,m=(0,i.l)(s,"default"),p=(0,i.l)(s,"config"),f=new c({definition:{kind:n.x.PAGES_API,page:"/api/auth/signup",pathname:"/api/auth/signup",bundlePath:"",filename:""},userland:s})},5753:(e,t,a)=>{a.d(t,{c:()=>r,G:()=>n});let s=require("bcryptjs");async function r(e){let t=await (0,s.hash)(e,12);return t}async function n(e,t){let a=await (0,s.compare)(e,t);return a}},6573:(e,t,a)=>{a.d(t,{v:()=>r});let s=require("mongodb");async function r(){let e=await s.MongoClient.connect("mongodb+srv://kartikmahajan5688:MkRNfX4SWy2N7ayy@cluster0.6oakhcl.mongodb.net/nextjsAuth?retryWrites=true&w=majority");return e}}};var t=require("../../../webpack-api-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[222],()=>a(2423));module.exports=s})();